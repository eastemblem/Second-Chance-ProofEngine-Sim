<!DOCTYPE html>
<html>
<head>
    <title>Test Local Session</title>
</head>
<body>
    <h1>Local Session Test</h1>
    <button onclick="checkSession()">Check Local Session</button>
    <button onclick="clearSession()">Clear Session</button>
    <pre id="output"></pre>

    <script>
        function checkSession() {
            const session = localStorage.getItem('onboardingSession');
            const output = document.getElementById('output');
            if (session) {
                try {
                    const parsed = JSON.parse(session);
                    output.textContent = JSON.stringify(parsed, null, 2);
                } catch (e) {
                    output.textContent = 'Invalid JSON in localStorage: ' + session;
                }
            } else {
                output.textContent = 'No session found in localStorage';
            }
        }

        function clearSession() {
            localStorage.removeItem('onboardingSession');
            document.getElementById('output').textContent = 'Session cleared';
        }

        // Auto-check on load
        checkSession();
        
        // Monitor localStorage changes
        window.addEventListener('storage', checkSession);
        
        // Check every 2 seconds for updates
        setInterval(checkSession, 2000);
    </script>
</body>
</html>