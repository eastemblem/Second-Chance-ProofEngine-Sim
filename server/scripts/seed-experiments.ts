import { db } from '../db';
import { experimentMaster } from '@shared/schema';

// Seed data from CSV
const experiments = [
  {
    experimentId: 'DES-001',
    validationSphere: 'Desirability' as const,
    name: 'Customer Discovery Interviews',
    definition: 'In-depth conversations to uncover needs, pain, and context.',
    hypothesisTested: 'Customers experience the problem as described',
    experimentFormat: 'Interviews (5‚Äì15 people)',
    signalTracked: 'Qual feedback',
    targetMetric: '70%+ confirm problem',
    toolsPlatforms: 'Zoom, Otter.ai',
    typicalDuration: '1 week',
    notes: 'Capture verbatim quotes',
    proofTag: 'Problem Hunter',
  },
  {
    experimentId: 'DES-002',
    validationSphere: 'Desirability' as const,
    name: 'Problem Validation Survey',
    definition: 'Surveys to quantify prevalence of a problem.',
    hypothesisTested: 'Problem is widespread',
    experimentFormat: 'Online survey (50+)',
    signalTracked: '% identifying as high pain',
    targetMetric: 'Incentivise responses',
    toolsPlatforms: 'Typeform, Google Forms',
    typicalDuration: '1 week',
    notes: 'Incentivise responses',
    proofTag: 'Target Locked',
  },
  {
    experimentId: 'DES-003',
    validationSphere: 'Desirability' as const,
    name: 'Landing Page Sign-up Test',
    definition: 'Website to measure interest via sign-ups.',
    hypothesisTested: 'Customers want solution',
    experimentFormat: 'Landing page + form',
    signalTracked: 'Conversion rate',
    targetMetric: '10%+ conversion',
    toolsPlatforms: 'Carrd, Webflow',
    typicalDuration: '1 week',
    notes: 'Drive ad traffic',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'DES-004',
    validationSphere: 'Desirability' as const,
    name: 'Waitlist Campaign',
    definition: 'Test demand by building early-access list.',
    hypothesisTested: 'Customers commit early',
    experimentFormat: 'Waitlist form',
    signalTracked: '# sign-ups',
    targetMetric: '100+ in 2 weeks',
    toolsPlatforms: 'Airtable, Notion',
    typicalDuration: '2 weeks',
    notes: 'Add referrals',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'DES-005',
    validationSphere: 'Desirability' as const,
    name: 'Demo Video Feedback',
    definition: 'Share product concept via video.',
    hypothesisTested: 'Solution resonates',
    experimentFormat: 'Explainer video',
    signalTracked: 'Feedback ratings',
    targetMetric: '70%+ positive',
    toolsPlatforms: 'Loom, Vimeo',
    typicalDuration: '1 week',
    notes: 'Collect qualitative notes',
    proofTag: 'Solution Stamped',
  },
  {
    experimentId: 'DES-006',
    validationSphere: 'Desirability' as const,
    name: 'Smoke Test Ads',
    definition: 'Paid ads to test messaging pull.',
    hypothesisTested: 'Value proposition resonates',
    experimentFormat: 'Google/Facebook Ads',
    signalTracked: 'CTR',
    targetMetric: '2‚Äì3%+ CTR',
    toolsPlatforms: 'Meta Ads, Google Ads',
    typicalDuration: '1 week',
    notes: 'Run A/B ads',
    proofTag: 'Channel Sniper',
  },
  {
    experimentId: 'DES-007',
    validationSphere: 'Desirability' as const,
    name: 'Paper Prototype Test',
    definition: 'Sketches/mockups tested with users.',
    hypothesisTested: 'Concept is clear and valued',
    experimentFormat: 'Prototype walkthrough',
    signalTracked: 'Qual feedback',
    targetMetric: '70%+ clarity & value',
    toolsPlatforms: 'Figma, InVision',
    typicalDuration: '1 week',
    notes: 'Think-aloud method',
    proofTag: 'Solution Stamped',
  },
  {
    experimentId: 'DES-008',
    validationSphere: 'Desirability' as const,
    name: 'Usability Test',
    definition: 'Observe users interacting with early UI.',
    hypothesisTested: 'Interface is intuitive',
    experimentFormat: 'Prototype test',
    signalTracked: 'Completion rate',
    targetMetric: '80% task success',
    toolsPlatforms: 'Maze, Lookback.io',
    typicalDuration: '1 week',
    notes: 'Record sessions',
    proofTag: 'Prototype Pilot',
  },
  {
    experimentId: 'DES-009',
    validationSphere: 'Desirability' as const,
    name: 'Fake Door Test',
    definition: 'Present feature option not yet built.',
    hypothesisTested: 'Customers want feature',
    experimentFormat: 'Clicks on fake feature',
    signalTracked: 'Click-through %',
    targetMetric: 'Keep backend hidden',
    toolsPlatforms: 'Mixpanel, GA',
    typicalDuration: '1 week',
    notes: 'Test interest only',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'DES-010',
    validationSphere: 'Desirability' as const,
    name: 'Social Proof Seeding',
    definition: 'Post content to test resonance.',
    hypothesisTested: 'Topic/product resonates socially',
    experimentFormat: 'Likes, shares, comments',
    signalTracked: 'Engagement rate above avg',
    targetMetric: 'Offer discounted access',
    toolsPlatforms: 'LinkedIn, TikTok',
    typicalDuration: '2 weeks',
    notes: 'Compare propositions',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'DES-011',
    validationSphere: 'Desirability' as const,
    name: 'Viral Hook Test',
    definition: 'Test referral-driven interest.',
    hypothesisTested: 'Customers share if incentivised',
    experimentFormat: 'Referral sign-ups',
    signalTracked: '10%+ virality',
    targetMetric: 'Log objections',
    toolsPlatforms: 'Viral Loops',
    typicalDuration: '2‚Äì3 weeks',
    notes: 'Track K-factor',
    proofTag: 'Momentum Master',
  },
  {
    experimentId: 'DES-012',
    validationSphere: 'Desirability' as const,
    name: 'Ad Concept Test',
    definition: 'Run creative-only campaigns.',
    hypothesisTested: 'Messaging resonates',
    experimentFormat: 'Ad CTR',
    signalTracked: '2‚Äì3%+ CTR',
    targetMetric: 'Include deal outline',
    toolsPlatforms: 'Meta Ads',
    typicalDuration: '1 week',
    notes: 'No landing page needed',
    proofTag: 'Channel Sniper',
  },
  {
    experimentId: 'COM-001',
    validationSphere: 'Viability' as const,
    name: 'Pre-order Landing Page',
    definition: 'Page with payment link to test demand.',
    hypothesisTested: 'Customers will pay upfront',
    experimentFormat: 'Pre-order page',
    signalTracked: 'Pre-orders',
    targetMetric: '5+ sales',
    toolsPlatforms: 'Webflow, Stripe',
    typicalDuration: '2 weeks',
    notes: 'Show urgency',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-002',
    validationSphere: 'Viability' as const,
    name: 'Concierge MVP',
    definition: 'Deliver service manually to test demand.',
    hypothesisTested: 'Customers pay for manual version',
    experimentFormat: 'Manual fulfilment',
    signalTracked: 'Payments',
    targetMetric: '3+ sales',
    toolsPlatforms: 'Airtable, Zapier',
    typicalDuration: '2‚Äì3 weeks',
    notes: 'Hide manual work',
    proofTag: 'Solution Stamped',
  },
  {
    experimentId: 'COM-003',
    validationSphere: 'Viability' as const,
    name: 'Paid Pilot Programme',
    definition: 'Paid access to trial version.',
    hypothesisTested: 'Customers pay for pilot',
    experimentFormat: 'Pilot cohort',
    signalTracked: 'Paid trials',
    targetMetric: '5+ pilots',
    toolsPlatforms: 'Stripe, contracts',
    typicalDuration: '4‚Äì6 weeks',
    notes: 'Discounted rate',
    proofTag: 'Revenue Radar',
  },
  {
    experimentId: 'COM-004',
    validationSphere: 'Viability' as const,
    name: 'Proposal & Quote Test',
    definition: 'B2B proposals to validate pricing.',
    hypothesisTested: 'Customers accept pricing',
    experimentFormat: 'Proposal sent',
    signalTracked: 'Acceptance rate',
    targetMetric: '2+ approvals',
    toolsPlatforms: 'PandaDoc',
    typicalDuration: '2 weeks',
    notes: 'Log objections',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-005',
    validationSphere: 'Viability' as const,
    name: 'LOI Collection',
    definition: 'Non-binding purchase commitments.',
    hypothesisTested: 'Buyers commit intent',
    experimentFormat: 'Signed LOIs',
    signalTracked: '# LOIs',
    targetMetric: '3+ LOIs',
    toolsPlatforms: 'DocuSign',
    typicalDuration: '2‚Äì3 weeks',
    notes: 'Include outline',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'COM-006',
    validationSphere: 'Viability' as const,
    name: 'Crowdfunding Campaign',
    definition: 'Public pre-order demand test.',
    hypothesisTested: 'Strangers will pay',
    experimentFormat: 'Kickstarter/Indiegogo',
    signalTracked: 'Pledges',
    targetMetric: '¬£5,000+',
    toolsPlatforms: 'Kickstarter',
    typicalDuration: '4‚Äì6 weeks',
    notes: 'Build community',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-007',
    validationSphere: 'Viability' as const,
    name: 'Price Sensitivity Survey',
    definition: 'Survey to test pricing tolerance.',
    hypothesisTested: 'Optimal price point',
    experimentFormat: 'Van Westendorp survey',
    signalTracked: 'Range of acceptable prices',
    targetMetric: 'Clustered results',
    toolsPlatforms: 'Typeform',
    typicalDuration: '1 week',
    notes: 'Validate with A/B',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-008',
    validationSphere: 'Viability' as const,
    name: 'Reverse Trial',
    definition: 'Charge after free trial to test conversion.',
    hypothesisTested: 'Customers convert post-trial',
    experimentFormat: 'Free ‚Üí paid',
    signalTracked: 'Conversion %',
    targetMetric: '20%+ conversion',
    toolsPlatforms: 'SaaS platforms',
    typicalDuration: '4 weeks',
    notes: 'Monitor churn',
    proofTag: 'Revenue Radar',
  },
  {
    experimentId: 'COM-009',
    validationSphere: 'Viability' as const,
    name: 'Auction Pricing Test',
    definition: 'Test willingness to pay via bidding.',
    hypothesisTested: 'Price is acceptable',
    experimentFormat: 'Auctions',
    signalTracked: 'Bids',
    targetMetric: 'Bids cluster near target',
    toolsPlatforms: 'eBay-style tools',
    typicalDuration: '2‚Äì3 weeks',
    notes: 'Reveals price ceiling',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-010',
    validationSphere: 'Viability' as const,
    name: 'Tiered Pricing Test',
    definition: 'Offer multiple packages to test uptake.',
    hypothesisTested: 'Customers select packages',
    experimentFormat: 'Landing page w/ tiers',
    signalTracked: 'Distribution of choices',
    targetMetric: 'At least 20% at premium',
    toolsPlatforms: 'Stripe',
    typicalDuration: '2 weeks',
    notes: 'A/B across cohorts',
    proofTag: 'CAC Commander',
  },
  {
    experimentId: 'COM-011',
    validationSphere: 'Viability' as const,
    name: 'Pay-What-You-Want',
    definition: 'Let customers set price.',
    hypothesisTested: 'Value perception is measurable',
    experimentFormat: 'Pay-what-you-want offer',
    signalTracked: 'Average payment value',
    targetMetric: 'Mean > cost floor',
    toolsPlatforms: 'Gumroad',
    typicalDuration: '1‚Äì2 weeks',
    notes: 'Reveals floor price',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'COM-012',
    validationSphere: 'Viability' as const,
    name: 'Deposit Test',
    definition: 'Ask for deposits before build.',
    hypothesisTested: 'Customers commit early',
    experimentFormat: 'Deposit collection',
    signalTracked: '% paying deposit',
    targetMetric: '5+ deposits',
    toolsPlatforms: 'Stripe',
    typicalDuration: '2‚Äì3 weeks',
    notes: 'Refundable',
    proofTag: 'Signal Chaser',
  },
  {
    experimentId: 'FEA-001',
    validationSphere: 'Feasibility' as const,
    name: 'No-code Prototype',
    definition: 'Build with no-code to test feasibility.',
    hypothesisTested: 'MVP can be built',
    experimentFormat: 'No-code prototype',
    signalTracked: 'Demo works',
    targetMetric: 'MVP core works',
    toolsPlatforms: 'Bubble',
    typicalDuration: '1‚Äì2 weeks',
    notes: 'Core flow only',
    proofTag: 'Prototype Pilot',
  },
  {
    experimentId: 'FEA-002',
    validationSphere: 'Feasibility' as const,
    name: 'Technical Spike',
    definition: 'Quick test of risky tech element.',
    hypothesisTested: 'Risky integration works',
    experimentFormat: 'Proof-of-concept',
    signalTracked: 'Working demo',
    targetMetric: 'Integration works',
    toolsPlatforms: 'Postman, Zapier',
    typicalDuration: '1 week',
    notes: 'Record blockers',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'FEA-003',
    validationSphere: 'Feasibility' as const,
    name: 'Manual Fulfilment Trial',
    definition: 'Run process manually to validate delivery.',
    hypothesisTested: 'Ops deliverable manually',
    experimentFormat: 'Manual ops',
    signalTracked: 'Orders fulfilled',
    targetMetric: '100% orders done',
    toolsPlatforms: 'Google Sheets',
    typicalDuration: '2 weeks',
    notes: 'Record time',
    proofTag: 'Solution Stamped',
  },
  {
    experimentId: 'FEA-004',
    validationSphere: 'Feasibility' as const,
    name: 'Workflow Simulation',
    definition: 'Chain tools to simulate backend.',
    hypothesisTested: 'Ops automatable',
    experimentFormat: 'Linked stack',
    signalTracked: 'Workflow runs',
    targetMetric: '80%+ success',
    toolsPlatforms: 'Zapier',
    typicalDuration: '1‚Äì2 weeks',
    notes: 'Scale stress test',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'FEA-005',
    validationSphere: 'Feasibility' as const,
    name: 'Alpha Build + Expert Review',
    definition: 'Experts review early build.',
    hypothesisTested: 'Meets tech standards',
    experimentFormat: 'Demo review',
    signalTracked: 'Expert feedback',
    targetMetric: '2+ approvals',
    toolsPlatforms: 'Loom',
    typicalDuration: '2 weeks',
    notes: 'Capture notes',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'FEA-006',
    validationSphere: 'Feasibility' as const,
    name: 'Scalability Load Test',
    definition: 'Stress test tech under load.',
    hypothesisTested: 'Handles scale',
    experimentFormat: 'Load test',
    signalTracked: 'Performance metrics',
    targetMetric: '100 concurrent users',
    toolsPlatforms: 'JMeter',
    typicalDuration: '1 week',
    notes: 'Increment load',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'FEA-007',
    validationSphere: 'Feasibility' as const,
    name: 'Delivery Dry Run',
    definition: 'Run delivery test with small group.',
    hypothesisTested: 'Ops team can deliver',
    experimentFormat: 'Pilot delivery',
    signalTracked: 'Orders delivered',
    targetMetric: '100% success',
    toolsPlatforms: 'Notion',
    typicalDuration: '2 weeks',
    notes: 'Document blockers',
    proofTag: 'Solution Stamped',
  },
  {
    experimentId: 'FEA-008',
    validationSphere: 'Feasibility' as const,
    name: 'Compliance Pilot',
    definition: 'Run test for regulatory approval.',
    hypothesisTested: 'Meets compliance',
    experimentFormat: 'Pilot trial',
    signalTracked: 'Regulator approval',
    targetMetric: 'Pass certification',
    toolsPlatforms: 'Sandbox, trial',
    typicalDuration: '4‚Äì12 weeks',
    notes: 'Industry-specific',
    proofTag: 'Moat Identified',
  },
  {
    experimentId: 'FEA-009',
    validationSphere: 'Feasibility' as const,
    name: 'Resource Capacity Test',
    definition: 'Validate internal/external resourcing.',
    hypothesisTested: 'Team can deliver',
    experimentFormat: 'Run workload test',
    signalTracked: '% of tasks delivered',
    targetMetric: '90%+ completion',
    toolsPlatforms: 'Trello, Asana',
    typicalDuration: '2 weeks',
    notes: 'Identify gaps',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'FEA-010',
    validationSphere: 'Feasibility' as const,
    name: 'Integration Sandbox',
    definition: 'Test key third-party integrations.',
    hypothesisTested: 'Systems integrate',
    experimentFormat: 'Sandbox test',
    signalTracked: 'Successful API calls',
    targetMetric: 'API logs',
    toolsPlatforms: '',
    typicalDuration: '1‚Äì2 weeks',
    notes: 'Test resilience',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'SCL-001',
    validationSphere: 'Scaling' as const,
    name: 'Cohort Retention Test',
    definition: 'Track retention across a group over time.',
    hypothesisTested: 'Customers will stay',
    experimentFormat: 'Cohort test',
    signalTracked: 'Retention %',
    targetMetric: '70% retention',
    toolsPlatforms: 'Slack, Notion',
    typicalDuration: '4 weeks',
    notes: 'Track churn',
    proofTag: 'Momentum Master',
  },
  {
    experimentId: 'SCL-002',
    validationSphere: 'Scaling' as const,
    name: 'Paid Acquisition Funnel Test',
    definition: 'Test paid channel efficiency.',
    hypothesisTested: 'Funnel scales',
    experimentFormat: 'Paid funnel',
    signalTracked: 'CAC & LTV',
    targetMetric: 'CAC < LTV/3',
    toolsPlatforms: 'Google Ads',
    typicalDuration: '2‚Äì4 weeks',
    notes: 'Try 2+ channels',
    proofTag: 'CAC Commander',
  },
  {
    experimentId: 'SCL-003',
    validationSphere: 'Scaling' as const,
    name: 'Partner Distribution Pilot',
    definition: 'Test growth through partners.',
    hypothesisTested: 'Partners drive growth',
    experimentFormat: 'Partner pilot',
    signalTracked: 'New customers',
    targetMetric: '50+',
    toolsPlatforms: 'HubSpot',
    typicalDuration: '4‚Äì6 weeks',
    notes: 'Define rev-share',
    proofTag: 'Channel Sniper',
  },
  {
    experimentId: 'SCL-004',
    validationSphere: 'Scaling' as const,
    name: 'Referral Programme',
    definition: 'Test organic referral growth.',
    hypothesisTested: 'Customers refer',
    experimentFormat: 'Referral scheme',
    signalTracked: 'Referral rate',
    targetMetric: '10%+ referrals',
    toolsPlatforms: 'ReferralCandy',
    typicalDuration: '3 weeks',
    notes: 'Incentives matter',
    proofTag: 'Momentum Master',
  },
  {
    experimentId: 'SCL-005',
    validationSphere: 'Scaling' as const,
    name: 'Regional Roll-out Test',
    definition: 'Validate expansion to new geography.',
    hypothesisTested: 'Model scales regionally',
    experimentFormat: 'Regional launch',
    signalTracked: 'Retention, adoption',
    targetMetric: 'Metrics match',
    toolsPlatforms: 'Local ads',
    typicalDuration: '6‚Äì8 weeks',
    notes: 'Cultural fit',
    proofTag: 'Vision Aligned',
  },
  {
    experimentId: 'SCL-006',
    validationSphere: 'Scaling' as const,
    name: 'Pricing Scale-Up',
    definition: 'Test higher pricing tiers.',
    hypothesisTested: 'Higher tiers accepted',
    experimentFormat: 'Tier test',
    signalTracked: 'Upgrade %',
    targetMetric: '20% upgrade',
    toolsPlatforms: 'Stripe',
    typicalDuration: '3 weeks',
    notes: 'Offer bundles',
    proofTag: 'Price Proven',
  },
  {
    experimentId: 'SCL-007',
    validationSphere: 'Scaling' as const,
    name: 'Repeatability Test',
    definition: 'Run experiments in new segments.',
    hypothesisTested: 'Results replicate',
    experimentFormat: 'Repeat test',
    signalTracked: 'Retention, conversion',
    targetMetric: 'Within 10% variance',
    toolsPlatforms: 'CRM',
    typicalDuration: '4‚Äì6 weeks',
    notes: 'Generalisable',
    proofTag: "Builder's Blueprint",
  },
  {
    experimentId: 'SCL-008',
    validationSphere: 'Scaling' as const,
    name: 'Viral Coefficient Test',
    definition: 'Measure virality across users.',
    hypothesisTested: 'Virality is present',
    experimentFormat: 'Viral loop',
    signalTracked: 'K-factor',
    targetMetric: 'K > 1',
    toolsPlatforms: 'Viral loops tool',
    typicalDuration: '3 weeks',
    notes: 'Focus on incentives',
    proofTag: 'Momentum Master',
  },
  {
    experimentId: 'SCL-009',
    validationSphere: 'Scaling' as const,
    name: 'Paid Trial Expansion',
    definition: 'Test scaling trial offers.',
    hypothesisTested: 'Paid trials drive adoption',
    experimentFormat: 'Trial funnel',
    signalTracked: 'Conversion to paid',
    targetMetric: '20%+ conversion',
    toolsPlatforms: 'SaaS stack',
    typicalDuration: '4 weeks',
    notes: 'Monitor churn',
    proofTag: 'Revenue Radar',
  },
  {
    experimentId: 'SCL-010',
    validationSphere: 'Scaling' as const,
    name: 'Segment Benchmarking',
    definition: 'Compare across multiple customer types.',
    hypothesisTested: 'Scales across segments',
    experimentFormat: 'Cross-segment trials',
    signalTracked: 'Conversion, NPS',
    targetMetric: 'Within 10% variance',
    toolsPlatforms: 'Analytics tools',
    typicalDuration: '4 weeks',
    notes: 'Identify best-fit',
    proofTag: 'Metrics Ready',
  },
];

async function seedExperiments() {
  console.log('üå± Seeding experiments...');

  try {
    // Insert all experiments
    await db.insert(experimentMaster).values(experiments);
    console.log(`‚úÖ Successfully seeded ${experiments.length} experiments`);
  } catch (error) {
    console.error('‚ùå Error seeding experiments:', error);
    throw error;
  }
}

// Run the seed if this file is executed directly
if (import.meta.url === `file://${process.argv[1]}`) {
  seedExperiments()
    .then(() => {
      console.log('‚úÖ Seed completed');
      process.exit(0);
    })
    .catch((error) => {
      console.error('‚ùå Seed failed:', error);
      process.exit(1);
    });
}

export { seedExperiments };
